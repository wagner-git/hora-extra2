<!DOCTYPE html>
<html>
<head>
  <title>Overtime</title>

  <script src="moment.js"></script>
    <script src="moment-weekday-calc.js"></script>
    <script src="calc_extra.js"></script>  

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <!--<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-orange.min.css" />-->
    <!--<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>-->
    <link rel="stylesheet" href="app.css">

    <!--<link rel="stylesheet" href="icons.css">-->
    <link rel="stylesheet" href="material.blue_grey-orange.min.css" />	 
    <script defer src="material.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-tabs">
  
    <header class="mdl-layout__header">     
    
      <div class="mdl-layout__header-row">    
        <span class="mdl-layout-title">Overtime</span>
      </div>
    
      <div class="mdl-layout__tab-bar mdl-js-ripple-effect">
        <a href="#fixed-tab-1" class="mdl-layout__tab is-active"><strong>CÁLCULAR</strong></a>
        <a href="#fixed-tab-2" class="mdl-layout__tab"><strong>CONFIGS</strong></a>        
      </div>
    </header>

    <main class="mdl-layout__content">
        <!--
      <section class="mdl-layout__tab-panel " id="fixed-tab-1">        
        <div class="page-content app">  -->
      <section class="mdl-layout__tab-panel is-active" id="fixed-tab-1" style="margin-top: 5%; margin-left: 10%; margin-right:10%">
        <div class="page-content" >  

          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <input class="mdl-textfield__input" type="text" id="salBruto" placeholder="0.00" onkeypress='return SomenteNumero(event)'>
              <label class="mdl-textfield__label" for="salBruto">Salário bruto</label>
           </div>
              
                      
           <div class="mdl-textfield mdl-textfield--floating-label" id="div_hora_normal">
              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: left; padding-right: 10px;">
                  <input class="mdl-textfield__input" type="text" id="horas_nomais" placeholder="0.0">
                  <label class="mdl-textfield__label" for="hrs_normal">Normais - (05:00 - 22:00)</label>
              </div>

              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: right; padding-left: 10px">
                  <input class="mdl-textfield__input" type="text" id="hrs_noturna" placeholder="0.0">
                  <label class="mdl-textfield__label" for="hrs_noturna">Noturnas - (22:01 - 04:59)</label>
              </div>  
              <!--<label class="mdl-textfield__label" for="hrs_noturna">Horas Normais - Seg a Sexta</label>-->
           </div>  




         <div class="mdl-textfield mdl-textfield--floating-label" id="div_hora_fim_feria">
              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: left; padding-right: 10px;">
                  <input class="mdl-textfield__input" type="text" id="hrs_fin_feria" placeholder="0.0">
                  <label class="mdl-textfield__label" for="hrs_fin_feria">Normal - (05:00 - 22:00)</label>
              </div>

              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: right; padding-left: 10px">
                  <input class="mdl-textfield__input" type="text" id="hrs_fin_feria_n" placeholder="0.0">
                  <label class="mdl-textfield__label" for="hrs_fin_feria_n">Noturna - (22:01 - 04:59)</label>
              </div>  
              <!--<label class="mdl-textfield__label" for="hrs_noturna">Horas Fim Feriado </label>-->
          </div>  





           <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <input class="mdl-textfield__input" type="text" id="ano_mes" placeholder="">
              <label class="mdl-textfield__label" for="ano_mes">Ano/Mês</label>
              <span class="mdl-textfield__error">Ano/Mès inválido!</span>    
           </div>            

           <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: left; padding-right: 10px;">
              <input class="mdl-textfield__input" type="text" id="dias_trabalho" placeholder="0" onkeypress='return SomenteDias(event)'>
              <label class="mdl-textfield__label" for="dias_trabalho">Dias trabalho</label>
           </div>    

           <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: right; padding-left: 10px">
              <input class="mdl-textfield__input" type="text" id="dias_descanso" placeholder="0" onkeypress='return SomenteDias(event)'>
              <label class="mdl-textfield__label" for="dias_descanso">Dias descanco</label>
           </div>    
  
           <button style="display: block; margin: auto;" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent"  onclick="calcular();" >CALCULAR</button>           

        </div>
      </section>

      <section class="mdl-layout__tab-panel" id="fixed-tab-2" style="margin-top: 5%; margin-left: 10%; margin-right:10%">
      <div class="page-content" >  
        
          <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" style="margin-top: 5%;" for="switch-1">
            <input type="checkbox" id="switch-1" class="mdl-switch__input" checked>
            <span class="mdl-switch__label">Sábado dia de descanso</span>
          </label>

          <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" style="margin-top: 5%;" for="switch-2">
            <input type="checkbox" id="switch-2" class="mdl-switch__input" checked>
            <span class="mdl-switch__label">Cálculo  dias Trabalho/Descanso automático</span>            
          </label>

          
           <div style="margin-top: 5%;" >

              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" id="carga_horaria" placeholder="220">
                <label class="mdl-textfield__label" for="carga_horaria">Carga horária</label>
              </div>

              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="text" id="dias_descanso" placeholder="50%">
                  <label class="mdl-textfield__label" for="dias_descanso">Extra Normal</label>
               </div>    

               <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="text" id="dias_descanso" placeholder="100%">
                  <label class="mdl-textfield__label" for="dias_descanso">Fins de Semana e Feriado</label>
               </div>    

              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="text" id="dias_descanso" placeholder="35%">
                  <label class="mdl-textfield__label" for="dias_descanso">Adicional Noturno</label>
              </div>                                          

            </div>  


             <table >
                  <tr> <th class="mdl-data-table__cell--non-numeric" id="th_uteis">Dias úteis</th> </tr>
                  <span for="th_uteis" class="mdl-tooltip mdl-tooltip--large mdl-tooltip--top">
                    <p>Quantidade total de horas extras realizadas durante o mês nos dias uteis (Seg-Sexta)</p>
                    <p>Normais - (05:00 - 22:00)</p>
                    <p>Noturnas - (22:01 - 04:59)</p>
                  </span>

                  <tr>
                    <td>              
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: left; padding-right: 10px;">
                        <input class="mdl-textfield__input" type="text" id="horas_nomais" placeholder="0.0">
                        <label class="mdl-textfield__label" for="hrs_normal">Normais</label>
                    </div>

                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: right; padding-left: 10px">
                        <input class="mdl-textfield__input" type="text" id="hrs_noturna" placeholder="0.0">
                        <label class="mdl-textfield__label" for="hrs_noturna">Noturnas</label>
                    </div>  
                    </td>
                  </tr>            
                
                 <tr> <th class="mdl-data-table__cell--non-numeric" id="th_fins_feria">Fins de semana/feriados?</th> </tr>
                  <span for="th_fins_feria" class="mdl-tooltip mdl-tooltip--large mdl-tooltip--top">
                    <p>Quantidade total de horas extras realizadas durante o mês nos Fins de semana/feriados</p>
                    <p>Normais - (05:00 - 22:00)</p>
                    <p>Noturnas - (22:01 - 04:59)</p>
                  </span>
                                  
                  <tr>
                    <td>              
                      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: left; padding-right: 10px;">
                          <input class="mdl-textfield__input" type="text" id="horas_nomais" placeholder="0.0">
                          <label class="mdl-textfield__label" for="hrs_normal">Normais - (05:00 - 22:00)</label>
                      </div>

                      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width: 50%; float: right; padding-left: 10px">
                          <input class="mdl-textfield__input" type="text" id="hrs_noturna" placeholder="0.0">
                          <label class="mdl-textfield__label" for="hrs_noturna">Noturnas - (22:01 - 04:59)</label>
                      </div>                  
                    </td>
                  </tr>                            

              </table>

          </div>           


      </section>      
      
    </main>

  </div>
</body>

<script type="text/javascript">
    function calcular() {
        var uSal = document.getElementById('salBruto').value;        
        if(!uSal){
            alert('Favor informar o SALÁRIO!');
            document.getElementById("salBruto").focus();
            return;};        

        var ano_mes = document.getElementById("ano_mes").value;
        if(!ano_mes){
            uYear = new Date().getFullYear();
            uMonth = (new Date().getMonth()) +1; //Add 1 pois o getMonth retorna de 0 a 11.
        }else{
          
          var res = ano_mes.split("-",2);
          
          uYear = res[0];
          uMonth = res[1];
          
        };
                

        var uCH = document.getElementById('carga_horaria').value;
        var uCarga_hora = (!uCH)?220:uCH;
    
        uDias_traba = document.getElementById("dias_trabalho").value;//21

        uDias_desca = document.getElementById("dias_descanso").value;//10

        uQtd_hrs = document.getElementById("horas_nomais").value.replace(",",".");
        if(!uQtd_hrs){
            alert('Favor informar os QTD HRS NORMAIS!');
            document.getElementById("horas_nomais").focus();
            return;};

        uQtd_hrs_n = document.getElementById("hrs_noturna").value.replace(",",".");

        uDencaso_sat = true; //Pegar da tela de configs

        calc_extra(uSal, uYear, uMonth, uCarga_hora, uDias_traba, uDias_desca, uQtd_hrs, uQtd_hrs_n, uDencaso_sat);

    }
</script>



    
<script type="text/javascript">
    function atualizaCampos(){
      var ano = new Date().getFullYear();
      var mes = new Date().getMonth() + 1; //Retorna mes de 0 - 11 e soma 1  

      document.getElementById('ano_mes').placeholder= (ano + "-" + mes);
    }

    atualizaCampos();

    function SomenteNumero(e){
        var tecla=(window.event)?event.keyCode:e.which;
    
        if((tecla>=46 && tecla<=57)) return true; //numbers and period = 46
        else{
          if (tecla==8 || tecla==0) return true;
      else  return false;
        }
    }

    function SomenteMes(e){
        var tecla=(window.event)?event.keyCode:e.which;
    
        if((tecla>=49 && tecla<=57)) return true;
        else{
          if (tecla==8 || tecla==0) return true;
        else  return false;
        }
    }

    function SomenteAno(e){
        var tecla=(window.event)?event.keyCode:e.which;
    
        if((tecla>=48 && tecla<=57)) return true; //permite zero
        else{
          if (tecla==8 || tecla==0) return true;
        else  return false;
        }
    }


        function SomenteDias(e){
        var tecla=(window.event)?event.keyCode:e.which;
    
        if((tecla>=48 && tecla<=57)) return true;
        else{
          if (tecla==8 || tecla==0) return true;
        else  return false;
        }
    }


</script>

</html>